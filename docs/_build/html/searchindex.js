Search.setIndex({"docnames": ["hp_tool", "index", "modules"], "filenames": ["hp_tool.rst", "index.rst", "modules.rst"], "titles": ["hp_tool package", "Welcome to BigNLP HP Tool\u2019s Developer Manual!", "hp_tool"], "terms": {"gener": 0, "base": 0, "yaml": 0, "configur": 0, "ani": 0, "model": 0, "type": 0, "size": 0, "calculate_model_s": 0, "gpu_count": 0, "int": 0, "max_training_dai": 0, "float": 0, "model_size_in_b": 0, "option": 0, "none": 0, "tflops_per_gpu": 0, "140": 0, "num_tokens_in_b": 0, "300": 0, "model_nam": 0, "str": 0, "gpt3": 0, "estim": 0, "given": 0, "constraint": 0, "If": 0, "model_s": 0, "i": 0, "provid": 0, "time": 0, "exampl": 0, "output": 0, "5b": 0, "param": 0, "7": 0, "dai": 0, "160": 0, "gpu": 0, "paramet": 0, "number": 0, "us": 0, "num_nod": 0, "gpus_per_nod": 0, "known": 0, "tflop": 0, "": 0, "per": 0, "token": 0, "return": 0, "generate_base_config": 0, "node": 0, "gpu_memory_gb": 0, "vocab_s": 0, "cfg": 0, "dictconfig": 0, "config": 0, "dictionari": 0, "name": 0, "avail": 0, "each": 0, "t5": 0, "mt5": 0, "omegaconf": 0, "full": 0, "object": 0, "dict": 0, "search_inference_config": 0, "base_cfg": 0, "run_benchmark": 0, "run_cfg": 0, "benchmark_cfg": 0, "cluster_cfg": 0, "depend": 0, "bignlp_scripts_path": 0, "prepare_cmd": 0, "triton_model_dir": 0, "flag": 0, "tensor_parallel_s": 0, "pipeline_parallel_s": 0, "workspace_path": 0, "verbos": 0, "true": 0, "main": 0, "function": 0, "launch": 0, "infer": 0, "sweep": 0, "job": 0, "implement": 0, "entir": 0, "pipelin": 0, "search": [0, 1], "optim": 0, "grid": 0, "both": 0, "bignlp": 0, "script": 0, "copy_config_to_fil": 0, "dst": 0, "copi": 0, "file": 0, "omegaconfg": 0, "store": 0, "destin": 0, "path": 0, "where": 0, "must": 0, "generate_overrides_str": 0, "file_nam": 0, "results_dir": 0, "string": 0, "hydra": 0, "like": 0, "overrid": 0, "select": 0, "run": 0, "usual": 0, "directori": 0, "result": 0, "hp": 0, "tool": 0, "contain": 0, "all": 0, "requir": 0, "run_train": 0, "slurm": 0, "job_id": 0, "wa": 0, "prepar": 0, "generate_grid_search_config": 0, "tupl": 0, "list": 0, "possibl": 0, "differ": 0, "base_dir": 0, "results_cfg": 0, "were": 0, "launch_grid_search_config": 0, "parallel": 0, "The": 0, "limit": 0, "how": 0, "mani": 0, "specifi": 0, "limit_search_run": 0, "locat": 0, "ar": 0, "id": 0, "launch_throughput_measur": 0, "dependency_list": 0, "measur": 0, "throughput": 0, "thi": 0, "get": 0, "schedul": 0, "so": 0, "onli": 0, "start": 0, "onc": 0, "finish": 0, "e": 0, "billion": 0, "current": 0, "search_training_config": 0, "entri": 0, "point": 0, "call": 0, "other": 0, "perform": 0, "three": 0, "action": 0, "those": 0, "final": 0, "compar": 0, "add_container_mount": 0, "container_mount": 0, "convert": 0, "mount": 0, "right": 0, "format": 0, "an": 0, "srun": 0, "command": 0, "can": 0, "add": 0, "calculate_model_size_param": 0, "51200": 0, "seq_length": 0, "2048": 0, "calcul": 0, "affect": 0, "hidden": 0, "attent": 0, "head": 0, "kv": 0, "channel": 0, "ffn": 0, "It": 0, "also": 0, "learn": 0, "rate": 0, "desir": 0, "sequenc": 0, "length": 0, "dure": 0, "vocabulari": 0, "layer": 0, "h": 0, "att_h": 0, "lr": 0, "rais": 0, "valueerror": 0, "larger": 0, "than": 0, "max": 0, "support": 0, "notimplementederror": 0, "convert_to_cli": 0, "sring": 0, "cli": 0, "convert_to_nul": 0, "val": 0, "valu": 0, "null": 0, "abl": 0, "pass": 0, "replac": 0, "either": 0, "input": 0, "itself": 0, "create_slurm_fil": 0, "new_script_path": 0, "cmd": 0, "job_nam": 0, "04": 0, "00": 0, "exclus": 0, "bool": 0, "mem": 0, "overcommit": 0, "ntask": 0, "ntasks_per_nod": 0, "gpus_per_task": 0, "partit": 0, "batch": 0, "account": 0, "exclud": 0, "creat": 0, "cluster": 0, "save": 0, "local": 0, "system": 0, "new_stript_path": 0, "one": 0, "insid": 0, "line": 0, "ad": 0, "need": 0, "befor": 0, "style": 0, "generic_base_config": 0, "from": 0, "modify_cfg": 0, "act": 0, "tp": 0, "pp": 0, "mb": 0, "max_minut": 0, "max_step": 0, "modifi": 0, "new": 0, "specif": 0, "which": 0, "heurist": 0, "activ": 0, "checkpoint": 0, "tensor": 0, "set": 0, "micro": 0, "maximum": 0, "amount": 0, "step": 0, "updat": 0, "hp_tool": 1, "packag": [1, 2], "index": 1, "modul": [1, 2], "page": 1, "submodul": 2, "base_config": 2, "inference_config": 2, "inference_sweep": 2, "search_config": 2, "train": 2, "training_config": 2, "util": 2, "content": 2}, "objects": {"": [[0, 0, 0, "-", "hp_tool"]], "hp_tool": [[0, 0, 0, "-", "base_config"], [0, 0, 0, "-", "inference_config"], [0, 0, 0, "-", "inference_sweep"], [0, 0, 0, "-", "search_config"], [0, 0, 0, "-", "train"], [0, 0, 0, "-", "training_config"], [0, 0, 0, "-", "utils"]], "hp_tool.base_config": [[0, 1, 1, "", "calculate_model_size"], [0, 1, 1, "", "generate_base_config"]], "hp_tool.inference_config": [[0, 1, 1, "", "search_inference_config"]], "hp_tool.inference_sweep": [[0, 1, 1, "", "run_benchmark"], [0, 1, 1, "", "search_inference_config"]], "hp_tool.search_config": [[0, 1, 1, "", "search_config"]], "hp_tool.train": [[0, 1, 1, "", "copy_config_to_file"], [0, 1, 1, "", "generate_overrides_str"], [0, 1, 1, "", "run_training"]], "hp_tool.training_config": [[0, 1, 1, "", "generate_grid_search_configs"], [0, 1, 1, "", "launch_grid_search_configs"], [0, 1, 1, "", "launch_throughput_measure"], [0, 1, 1, "", "search_training_config"]], "hp_tool.utils": [[0, 1, 1, "", "add_container_mounts"], [0, 1, 1, "", "calculate_model_size_params"], [0, 1, 1, "", "convert_to_cli"], [0, 1, 1, "", "convert_to_null"], [0, 1, 1, "", "create_slurm_file"], [0, 1, 1, "", "generic_base_config"], [0, 1, 1, "", "modify_cfg"]]}, "objtypes": {"0": "py:module", "1": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"]}, "titleterms": {"hp_tool": [0, 2], "packag": 0, "submodul": 0, "base_config": 0, "modul": 0, "inference_config": 0, "inference_sweep": 0, "search_config": 0, "train": 0, "training_config": 0, "util": 0, "content": [0, 1], "welcom": 1, "bignlp": 1, "hp": 1, "tool": 1, "": 1, "develop": 1, "manual": 1, "indic": 1, "tabl": 1}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})